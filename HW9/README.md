# HW9 - Пишем скрипт

Пишем [скрипт](./script.sh) для крона, который раз в час присылает на заданную почту:

- X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- все ошибки c момента последнего запуска
- список всех кодов возврата с указанием их кол-ва с момента последнего запуска
- В письме прописан обрабатываемый временной диапазон
- Реализована защита от мультизапуска
- Скрипт анализирует все файлы *.log с указанного каталога сравнивая timestamp в записях с момента прошлого запуска скрипта

Пример отправляемого email:

```bash
Временной диапазон анализа скрипта: 15-08-2019 00:00:00 - 15-08-2019 01:00:00

Список IP адресов с наибольшим кол-вом запросов (топ 10)
3  137.74.1.112
2  182.254.243.249
1  87.250.233.68
1  66.249.64.204
1  62.75.198.172
1  5.44.173.80
1  46.229.168.161
1  46.229.168.153

Список запрашиваемых адресов с наибольшим кол-вом запросов (топ 10)
3  /
2  /wp-login.php
1  /xmlrpc.php
1  /wp-cron.php?doing_wp_cron=1565816515.1302280426025390625000
1  /webdav/
1  /tag/pdb/
1  /robots.txt

Список ошибок
1  PROPFIND

Список кодов возврата
8  200
2  404
1  405
```
